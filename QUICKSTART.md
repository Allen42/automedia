# 快速开始指南

欢迎使用 AI 漫剧剧本生成器！本指南将帮助你在 5 分钟内快速上手应用。

## 前置要求

- Node.js 18+ 和 pnpm
- Gemini Pro API Key（可从 [Google AI Studio](https://aistudio.google.com) 获取）
- 一个 .txt 格式的小说文件

## 第一步：安装和配置

### 1. 安装依赖

```bash
cd ai-manju-script-app
pnpm install
```

### 2. 配置环境变量

创建 `.env.local` 文件，添加以下内容：

```env
VITE_FRONTEND_FORGE_API_KEY=your-gemini-api-key
VITE_FRONTEND_FORGE_API_URL=https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent
```

### 3. 启动开发服务器

```bash
pnpm dev
```

应用将在 `http://localhost:3000` 启动。

## 第二步：创建你的第一个项目

1. 打开应用，点击"开始使用"进入编辑器
2. 在左侧"项目名称"输入框输入项目名称（如"我的漫剧项目"）
3. 点击"+"按钮创建项目
4. 项目将出现在"我的项目"列表中，点击选择

## 第三步：上传小说

1. 在中央编辑区选择"小说"标签页
2. 点击"选择文件"按钮
3. 选择一个 .txt 格式的小说文件
4. 小说内容将自动加载到编辑器中

## 第四步：转换为剧本

1. 点击左侧的"转换为剧本"按钮
2. 等待转换完成（通常需要 10-30 秒，取决于小说长度）
3. 系统将自动切换到"剧本"标签页
4. 查看生成的第一人称剧本

## 第五步：生成分镜

1. 点击"生成分镜"按钮
2. 等待分镜生成完成
3. 在"分镜"标签页查看生成的分镜方案
4. 每个分镜包含：镜头编号、景别、时间、地点、动作、结果、情绪等信息

## 第六步：规划节奏

1. 点击"规划节奏"按钮
2. 等待节奏规划完成
3. 在"节奏"标签页查看前 8 集的节奏规划
4. 规划包含每集的镜头选择、时长分配和情绪节拍

## 第七步：导出结果

1. 点击顶部的"导出"按钮
2. 选择导出格式（JSON、CSV、Markdown 等）
3. 保存导出文件到本地

## 常用快捷操作

### 复制内容

在任何文本区域右上角点击"复制"按钮，将内容复制到剪贴板。

### 编辑内容

所有生成的内容都可以直接在编辑器中编辑。编辑内容会自动保存到项目中。

### 查看统计信息

在右侧预览面板查看项目统计信息：

- **小说字数**：上传的小说总字数
- **剧本字数**：转换后的剧本总字数
- **分镜数量**：生成的分镜镜头总数

### 快速操作

右侧预览面板提供以下快速操作：

- **查看提示词**：查看当前使用的 AI 提示词
- **编辑提示词**：修改提示词以适应不同的创意需求
- **导出分镜**：直接导出分镜数据

## 提示和技巧

### 优化小说转剧本的效果

- 上传的小说应该有清晰的故事结构和人物设定
- 小说长度建议在 1000-5000 字之间
- 避免过于复杂的情节或过多的人物

### 优化分镜拆解的效果

- 生成的剧本应该包含足够的动作描写和对话
- 避免过于冗长或过于简洁的剧本
- 可以手动编辑剧本以改进分镜拆解效果

### 优化节奏规划的效果

- 确保分镜包含足够的情感节点
- 遵循爽文套路的基本结构
- 可以手动调整节奏规划以适应不同的故事类型

## 故障排除

### API 请求失败

**问题**：点击"转换为剧本"时出现错误

**解决方案**：
1. 检查 `.env.local` 文件中的 API Key 是否正确
2. 确保网络连接正常
3. 检查 API 配额是否已用尽

### 生成内容为空

**问题**：转换或生成后没有看到任何内容

**解决方案**：
1. 检查上传的小说是否为有效的 .txt 文件
2. 确保小说内容不为空
3. 尝试使用较短的小说重新测试

### 应用加载缓慢

**问题**：应用响应缓慢或卡顿

**解决方案**：
1. 清除浏览器缓存
2. 刷新页面
3. 检查网络连接速度

## 下一步

- 阅读完整的 [README.md](README.md) 了解更多功能
- 查看 [提示词模板](client/src/lib/geminiService.ts) 了解如何自定义 AI 行为
- 参考 [文件结构](README.md#文件结构) 了解项目组织

## 获取帮助

如有任何问题，请：

1. 查看常见问题部分
2. 检查浏览器控制台是否有错误信息
3. 提交 GitHub Issue 或联系开发者

---

祝你使用愉快！🎬✨
